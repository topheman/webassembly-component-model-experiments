# filesystem

You are interacting with a virtual filesystem, in your browser!

The plugins `ls` and `cat` do real filesystem operations in their source code, like `std::fs::read_dir` or `std::fs::read_to_string`.

Those operations are forwarded via the `@bytecodealliance/preview2-shim/filesystem` shim, which shims the `wasi:filesystem` filesystem interface.

On the cli, you would interact with a real filesystem with the exact same source code as the one you are running (which was developed mainly in rust and compiled to WebAssembly, for the browser, using `jco`).

The virtual filesystem was generated by the `prepareVirtualFs` command, which reads the `fixtures/filesystem` directory and generates a virtual filesystem in the [`packages/web-host/src/wasm/virtualFs.ts`](https://github.com/topheman/webassembly-component-model-experiments/blob/master/packages/web-host/src/wasm/virtualFs.ts) file.
